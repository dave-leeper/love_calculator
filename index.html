<!DOCTYPE html>
<html>
<head>
<title>Love Calculator</title>
<script>
    class LoveNumber {
        static deepClone(loveNumber){
            let clone = new LoveNumber()
            for (let loop = 0; loop < loveNumber.positiveFlags.length; loop++) {
                clone.positiveFlags[loop] = loveNumber.positiveFlags[loop]
            }
            for (let loop = 0; loop < loveNumber.positiveCounts.length; loop++) {
                clone.positiveCounts[loop] = loveNumber.positiveCounts[loop]
            }
            for (let loop = 0; loop < loveNumber.negativeFlags.length; loop++) {
                clone.negativeFlags[loop] = loveNumber.negativeFlags[loop]
            }
            for (let loop = 0; loop < loveNumber.negativeCounts.length; loop++) {
                clone.negativeCounts[loop] = loveNumber.negativeCounts[loop]
            }
            return clone
        }
        static convertIntToLoveNumber(number){
            let flag = 0x1
            let loveNumber = new LoveNumber()
            let intNumber = Math.round(number)
            let isNegative = (0 > intNumber)

            if (0 === intNumber) {
                loveNumber.positiveFlags[31] = "1"
                loveNumber.positiveCounts[31] = 1
                return loveNumber
            }

            intNumber = Math.abs(intNumber)
            for (let loop = 2; loop < 32; loop++) {
                if ((intNumber & flag ) !== 0) { 
                    if (!isNegative) {
                        loveNumber.positiveFlags[32 - loop] = "1"
                        loveNumber.positiveCounts[32 - loop] = 1
                    } else {
                        loveNumber.negativeFlags[32 - loop] = "1"
                        loveNumber.negativeCounts[32 - loop] = 1
                    }
                }
                else { 
                    if (!isNegative) {
                        loveNumber.positiveFlags[32 - loop] = "0"
                        loveNumber.positiveCounts[32 - loop] = 0
                    } else {
                        loveNumber.negativeFlags[32 - loop] = "0"
                        loveNumber.negativeCounts[32 - loop] = 0
                    }
                }
                flag *= 2
            }
            return loveNumber
        }
        static add(number1, number2){
            let loveNumber = new LoveNumber()

            for (let loop = 0; loop < number1.positiveFlags.length; loop++) {
                if ("1" === number1.positiveFlags[loop] || "1" === number2.positiveFlags[loop]) {
                    loveNumber.positiveFlags[loop] = "1"
                    loveNumber.positiveCounts[loop] = number1.positiveCounts[loop] + number2.positiveCounts[loop]
                }
                if ("1" === number1.negativeFlags[loop] || "1" === number2.negativeFlags[loop]) {
                    loveNumber.negativeFlags[loop] = "1"
                    loveNumber.negativeCounts[loop] = number1.negativeCounts[loop] + number2.negativeCounts[loop]
                }
            }
            for (let loop = 0; loop < number1.positiveFlags.length - 1; loop++) {
                if ("1" === number1.positiveFlags[loop] && "1" === number2.negativeFlags[loop]) {
                    if (0 === number1.positiveCounts[loop] - number2.negativeCounts[loop]) {
                        loveNumber.positiveFlags[number1.positiveFlags.length - 1] = "1"
                        loveNumber.positiveCounts[number1.positiveFlags.length - 1] = loveNumber.positiveCounts[loop] + loveNumber.negativeCounts[loop]
                        loveNumber.positiveFlags[loop] = "0"
                        loveNumber.positiveCounts[loop] = 0
                        loveNumber.negativeFlags[loop] = "0"
                        loveNumber.negativeCounts[loop] = 0
                    } else {
                        if (number1.positiveCounts[loop] > number2.positiveCounts[loop]) {
                            loveNumber.positiveFlags[number1.positiveFlags.length - 1] = "1"
                            loveNumber.positiveCounts[number1.positiveFlags.length - 1] = number2.positiveCounts[loop]
                            loveNumber.positiveFlags[loop] = "1"
                            loveNumber.positiveCounts[loop] = number1.positiveCounts[loop] - number2.positiveCounts[loop]
                            loveNumber.negativeFlags[loop] = "0"
                            loveNumber.negativeCounts[loop] = 0
                        } else {
                            loveNumber.positiveFlags[number1.positiveFlags.length - 1] = "1"
                            loveNumber.positiveCounts[number1.positiveFlags.length - 1] = number1.positiveCounts[loop]
                            loveNumber.positiveFlags[loop] = "0"
                            loveNumber.positiveCounts[loop] = 0
                            loveNumber.negativeFlags[loop] = "1"
                            loveNumber.negativeCounts[loop] = number2.positiveCounts[loop] - number1.positiveCounts[loop]
                        }
                    }
                }
            }
            return loveNumber
        }
        static subtract(number1, number2){
            let loveNumber = new LoveNumber()
            for (let loop = 0; loop < number1.positiveFlags.length; loop++) {
                if ("1" === number1.positiveFlags[loop] || "1" === number2.positiveFlags[loop]) {
                    loveNumber.positiveFlags[loop] = "1"
                    loveNumber.positiveCounts[loop] = number1.positiveCounts[loop] - number2.positiveCounts[loop]
                    if (0 === loveNumber.positiveCounts[loop]) { loveNumber.positiveFlags[loop] = "0" }
                }
            }
            for (let loop = 0; loop < number1.negativeFlags.length; loop++) {
                if ("1" === number1.negativeFlags[loop] || "1" === number2.negativeFlags[loop]) {
                    loveNumber.negativeFlags[loop] = "1"
                    loveNumber.negativeCounts[loop] = number1.negativeCounts[loop] - number2.negativeCounts[loop]
                    if (0 === loveNumber.negativeCounts[loop]) { loveNumber.negativeFlags[loop] = "0" }
                }
            }
            return loveNumber
        }
        constructor() {
            this.positiveFlags = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
            this.positiveCounts = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
            this.negativeFlags = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
            this.negativeCounts = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        }
        toDebugString(includeSubscripts) {
            if (!includeSubscripts) {
                let result = "-" + this.negativeFlags.join("")
                result += "+" + this.positiveFlags.join("")
                return result
            }
            let result = ""
            for (let loop = 0; loop < this.negativeFlags.length; loop++) {
                result = result + "-" + this.negativeFlags[loop]
                result = result + "[" + this.negativeCounts[loop] + "]"
                result = result + " "
            }
            for (let loop = 0; loop < this.positiveFlags.length; loop++) {
                result = result + this.positiveFlags[loop]
                result = result + "[" + this.positiveCounts[loop] + "]"
                result = result + " "
            }
            return result.trim()
        }
        toHTML(parentNode, includeSubscripts) {
            let negative = ""
            let positive = ""
            let flag = 0x0
            let hasChild = false
            let wrapper = document.createElement("div")

            wrapper.style.display = "flex"
            wrapper.style.flexDirection = "row"
            parentNode.appendChild(wrapper)
            for (let loop = this.negativeFlags.length - 1; loop >= 1; loop--) {
                if ("1" === this.negativeFlags[loop]) { 
                    let node = document.createElement("div")
                    wrapper.appendChild(node)
                    if (hasChild) { node.innerText = "."}
                    node.innerText += "-" + flag
                    if (includeSubscripts) {
                        node = document.createElement("sub")
                        node.style.verticalAlign = "sub"
                        node.style.alignSelf = "flex-end"
                        wrapper.appendChild(node)
                        node.innerText = this.negativeCounts[loop]
                    }
                    hasChild = true;
                }
                if ("1" === this.positiveFlags[loop]) { 
                    let node = document.createElement("div")
                    wrapper.appendChild(node)
                    if (hasChild) { node.innerText = "."}
                    node.innerText += flag
                    if (includeSubscripts) { 
                        node = document.createElement("sub")
                        node.style.verticalAlign = "sub"
                        node.style.alignSelf = "flex-end"
                        wrapper.appendChild(node)
                        node.innerText = this.positiveCounts[loop]
                    }
                    hasChild = true;
                }
                if (0 === flag) { flag = 0x1 }
                else { flag *= 2 }
            }
            if (!hasChild) {
                let node = document.createElement("div")
                wrapper.appendChild(node)
                node.innerText = "0"
                if (includeSubscripts) { 
                    node = document.createElement("sub")
                    node.style.verticalAlign = "sub"
                    node.style.alignSelf = "flex-end"
                    wrapper.appendChild(node)
                    node.innerText = "0" 
                }
            }
        }
        toString(includeSubscripts) {
            let negative = ""
            let positive = ""
            let flag = 0x0
            let trimTrailingChars = (s, charToTrim) => {
                if (s.charAt(s.length - 1) === charToTrim) { return s.slice(0, -1) }
                return s
            }

            for (let loop = this.negativeFlags.length - 1; loop >= 1; loop--) {
                if ("1" === this.negativeFlags[loop]) { 
                    negative += "-" + flag
                    if (includeSubscripts) { negative += "[" + this.negativeCounts[loop] + "]"}
                    negative += "."
                }
                if ("1" === this.positiveFlags[loop]) { 
                    positive += flag
                    if (includeSubscripts) { positive += "[" + this.positiveCounts[loop] + "]"}
                    positive += "."
                }
                if (0 === flag) { flag = 0x1 }
                else { flag *= 2 }
            }
            if (0 === negative.length && 0 === positive.length) {
                positive = "0"
                if (includeSubscripts) { positive += "[0]" }
            }
            negative = trimTrailingChars(negative, ".")
            positive = trimTrailingChars(positive, ".")
            return negative + positive  
        }
        getLowestCount() {
            let lowestPositive = Number.MAX_VALUE
            let lowestNegative = Number.MAX_VALUE
            for (let loop = 0; loop < this.positiveCounts.length; loop++) {
                if (this.positiveCounts[loop] < lowestPositive) { lowestPositive = this.positiveCounts[loop] }
            }
            for (let loop = 0; loop < this.negativeCounts.length; loop++) {
                if (this.negativeCounts[loop] < lowestNegative) { lowestNegative = this.negativeCounts[loop] }
            }
            return { lowestPositive, lowestNegative }
        }
        getNumberBasedOnLowestCounts(lowestCounts) {
            let remainder = LoveNumber.deepClone(this)
            let newNumber = new LoveNumber()

            if (0 !== lowestCounts.lowestPositive) {
                for (let loop = 0; loop < remainder.positiveCounts.length; loop++) {
                    if (remainder.positiveCounts[loop] >= lowestCounts.lowestPositive) { 
                        newNumber.positiveFlags[loop] = "1"
                        newNumber.positiveCounts[loop] = lowestCounts.lowestPositive
                        remainder.positiveCounts[loop] = remainder.positiveCounts[loop] - lowestCounts.lowestPositive
                        if (0 === remainder.positiveCounts[loop]) {
                            remainder.positiveFlags[loop] = "0"
                        }
                    }
                }
            }
            if (0 !== lowestCounts.lowestNegative) {
                for (let loop = 0; loop < remainder.negativeCounts.length; loop++) {
                    if (remainder.negativeCounts[loop] >= lowestCounts.lowestNegative) { 
                        newNumber.negativeFlags[loop] = "1"
                        newNumber.negativeCounts[loop] = lowestCounts.lowestNegative
                        remainder.negativeCounts[loop] = remainder.negativeCounts[loop] - lowestCounts.lowestNegative
                        if (0 === remainder.negativeCounts[loop]) {
                            remainder.negativeFlags[loop] = "0"
                        }
                    }
                }
            }
            return { newNumber, remainder }
        }
    }
    function test_love_number(){
        test_convert_int_to_love_number()
        test_to_debug_string()
        test_to_string()
        test_deep_clone()
        test_get_lowest_count()
        test_get_number_based_on_lowest_counts()
        test_visual()
    }

    function test_convert_int_to_love_number(){
        let loveNumber0 = LoveNumber.convertIntToLoveNumber(0)
        let loveNumber1 = LoveNumber.convertIntToLoveNumber(1)
        let loveNumber2 = LoveNumber.convertIntToLoveNumber(2)
        let loveNumber3 = LoveNumber.convertIntToLoveNumber(3)
        let loveNumberNegative1 = LoveNumber.convertIntToLoveNumber(-1)
        let loveNumberNegative2 = LoveNumber.convertIntToLoveNumber(-2)
        let loveNumberNegative3 = LoveNumber.convertIntToLoveNumber(-3)

        let expected0False = "-00000000000000000000000000000000+00000000000000000000000000000001"
        let expected1False = "-00000000000000000000000000000000+00000000000000000000000000000010"
        let expected2False = "-00000000000000000000000000000000+00000000000000000000000000000100"
        let expected3False = "-00000000000000000000000000000000+00000000000000000000000000000110"
        let expectedNegative1False = "-00000000000000000000000000000010+00000000000000000000000000000000"
        let expectedNegative2False = "-00000000000000000000000000000100+00000000000000000000000000000000"
        let expectedNegative3False = "-00000000000000000000000000000110+00000000000000000000000000000000"
        
        let testConvertIntToLoveNumber = (loveNumber, expected, includeSubscripts) => {
            let result = loveNumber.toDebugString(includeSubscripts)
            let testText = "loveNumber.toDebugString(" + includeSubscripts + ")"
            if (expected !== result) {console.log(testText + " failed. Expected " + expected + ", got " + result + ".")}
        }

        testConvertIntToLoveNumber(loveNumber0, expected0False, false)
        testConvertIntToLoveNumber(loveNumber1, expected1False, false)
        testConvertIntToLoveNumber(loveNumber2, expected2False, false)
        testConvertIntToLoveNumber(loveNumber3, expected3False, false)
        testConvertIntToLoveNumber(loveNumberNegative1, expectedNegative1False, false)
        testConvertIntToLoveNumber(loveNumberNegative2, expectedNegative2False, false)
        testConvertIntToLoveNumber(loveNumberNegative3, expectedNegative3False, false)
    }
    function test_to_debug_string(){
        let loveNumber0 = LoveNumber.convertIntToLoveNumber(0)
        let loveNumber1 = LoveNumber.convertIntToLoveNumber(1)
        let loveNumber2 = LoveNumber.convertIntToLoveNumber(2)
        let loveNumber3 = LoveNumber.convertIntToLoveNumber(3)
        let loveNumberNegative1 = LoveNumber.convertIntToLoveNumber(-1)
        let loveNumberNegative2 = LoveNumber.convertIntToLoveNumber(-2)
        let loveNumberNegative3 = LoveNumber.convertIntToLoveNumber(-3)

        let expected0False = "-00000000000000000000000000000000+00000000000000000000000000000001"
        let expected1False = "-00000000000000000000000000000000+00000000000000000000000000000010"
        let expected2False = "-00000000000000000000000000000000+00000000000000000000000000000100"
        let expected3False = "-00000000000000000000000000000000+00000000000000000000000000000110"
        let expectedNegative1False = "-00000000000000000000000000000010+00000000000000000000000000000000"
        let expectedNegative2False = "-00000000000000000000000000000100+00000000000000000000000000000000"
        let expectedNegative3False = "-00000000000000000000000000000110+00000000000000000000000000000000"
        let expected0True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1]"
        let expected1True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 0[0]"
        let expected2True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 0[0] 0[0]"
        let expected3True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 1[1] 0[0]"
        let expectedNegative1True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        let expectedNegative2True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        let expectedNegative3True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -1[1] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        
        let testToDebugString = (loveNumber, expected, includeSubscripts) => {
            let result = loveNumber.toDebugString(includeSubscripts)
            let testText = "loveNumber.toDebugString(" + includeSubscripts + ")"
            if (expected !== result) {console.log(testText + " failed. Expected " + expected + ", got " + result + ".")}
        }

        testToDebugString(loveNumber0, expected0False, false)
        testToDebugString(loveNumber1, expected1False, false)
        testToDebugString(loveNumber2, expected2False, false)
        testToDebugString(loveNumber3, expected3False, false)
        testToDebugString(loveNumberNegative1, expectedNegative1False, false)
        testToDebugString(loveNumberNegative2, expectedNegative2False, false)
        testToDebugString(loveNumberNegative3, expectedNegative3False, false)
        testToDebugString(loveNumber0, expected0True, true)
        testToDebugString(loveNumber1, expected1True, true)
        testToDebugString(loveNumber2, expected2True, true)
        testToDebugString(loveNumber3, expected3True, true)
        testToDebugString(loveNumberNegative1, expectedNegative1True, true)
        testToDebugString(loveNumberNegative2, expectedNegative2True, true)
        testToDebugString(loveNumberNegative3, expectedNegative3True, true)
    }
    function test_to_string(){
        let loveNumber0 = LoveNumber.convertIntToLoveNumber(0)
        let loveNumber1 = LoveNumber.convertIntToLoveNumber(1)
        let loveNumber2 = LoveNumber.convertIntToLoveNumber(2)
        let loveNumber3 = LoveNumber.convertIntToLoveNumber(3)
        let loveNumberNegative1 = LoveNumber.convertIntToLoveNumber(-1)
        let loveNumberNegative2 = LoveNumber.convertIntToLoveNumber(-2)
        let loveNumberNegative3 = LoveNumber.convertIntToLoveNumber(-3)

        let expected0False = "0"
        let expected1False = "1"
        let expected2False = "2"
        let expected3False = "1.2"
        let expectedNegative1False = "-1"
        let expectedNegative2False = "-2"
        let expectedNegative3False = "-1.-2"
        let expected0True = "0[1]"
        let expected1True = "1[1]"
        let expected2True = "2[1]"
        let expected3True = "1[1].2[1]"
        let expectedNegative1True = "-1[1]"
        let expectedNegative2True = "-2[1]"
        let expectedNegative3True = "-1[1].-2[1]"
        
        let testToString = (loveNumber, expected, includeSubscripts) => {
            let result = loveNumber.toString(includeSubscripts)
            let testText = "loveNumber.toString(" + includeSubscripts + ")"
            if (expected !== result) {console.log(testText + " failed. Expected " + expected + ", got " + result + ".")}
        }

        testToString(loveNumber0, expected0False, false)
        testToString(loveNumber1, expected1False, false)
        testToString(loveNumber2, expected2False, false)
        testToString(loveNumber3, expected3False, false)
        testToString(loveNumberNegative1, expectedNegative1False, false)
        testToString(loveNumberNegative2, expectedNegative2False, false)
        testToString(loveNumberNegative3, expectedNegative3False, false)
        testToString(loveNumber0, expected0True, true)
        testToString(loveNumber1, expected1True, true)
        testToString(loveNumber2, expected2True, true)
        testToString(loveNumber3, expected3True, true)
        testToString(loveNumberNegative1, expectedNegative1True, true)
        testToString(loveNumberNegative2, expectedNegative2True, true)
        testToString(loveNumberNegative3, expectedNegative3True, true)
    }
    function test_deep_clone(){
        let loveNumber0 = LoveNumber.convertIntToLoveNumber(0)
        let loveNumber1 = LoveNumber.convertIntToLoveNumber(1)
        let loveNumber2 = LoveNumber.convertIntToLoveNumber(2)
        let loveNumber3 = LoveNumber.convertIntToLoveNumber(3)
        let loveNumberNegative1 = LoveNumber.convertIntToLoveNumber(-1)
        let loveNumberNegative2 = LoveNumber.convertIntToLoveNumber(-2)
        let loveNumberNegative3 = LoveNumber.convertIntToLoveNumber(-3)
        let loveNumber0Clone = LoveNumber.deepClone(loveNumber0)
        let loveNumber1Clone = LoveNumber.deepClone(loveNumber1)
        let loveNumber2Clone = LoveNumber.deepClone(loveNumber2)
        let loveNumber3Clone = LoveNumber.deepClone(loveNumber3)
        let loveNumberNegative1Clone = LoveNumber.deepClone(loveNumberNegative1)
        let loveNumberNegative2Clone = LoveNumber.deepClone(loveNumberNegative2)
        let loveNumberNegative3Clone = LoveNumber.deepClone(loveNumberNegative3)

        let expected0True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1]"
        let expected1True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 0[0]"
        let expected2True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 0[0] 0[0]"
        let expected3True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 1[1] 1[1] 0[0]"
        let expectedNegative1True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        let expectedNegative2True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -0[0] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        let expectedNegative3True = "-0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -0[0] -1[1] -1[1] -0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0] 0[0]"
        
        let testDeepClone = (loveNumber, expected, includeSubscripts) => {
            let result = loveNumber.toDebugString(includeSubscripts)
            let testText = "loveNumber.toDebugString(" + includeSubscripts + ")"
            if (expected !== result) {console.log(testText + " failed. Expected " + expected + ", got " + result + ".")}
        }

        loveNumber0.positiveCounts[0] = 999
        loveNumber1.positiveCounts[0] = 999
        loveNumber2.positiveCounts[0] = 999
        loveNumber3.positiveCounts[0] = 999
        loveNumberNegative1.positiveCounts[0] = 999
        loveNumberNegative2.positiveCounts[0] = 999
        loveNumberNegative3.positiveCounts[0] = 999

        testDeepClone(loveNumber0Clone, expected0True, true)
        testDeepClone(loveNumber1Clone, expected1True, true)
        testDeepClone(loveNumber2Clone, expected2True, true)
        testDeepClone(loveNumber3Clone, expected3True, true)
        testDeepClone(loveNumberNegative1Clone, expectedNegative1True, true)
        testDeepClone(loveNumberNegative2Clone, expectedNegative2True, true)
        testDeepClone(loveNumberNegative3Clone, expectedNegative3True, true)
    }
    function test_get_lowest_count(){
        let loveNumber = LoveNumber.convertIntToLoveNumber(0)

        for (let loop = 0; loop < 32; loop++) {
            loveNumber.positiveFlags[loop] = "1"
            loveNumber.positiveCounts[loop] = loop + 100
            loveNumber.negativeFlags[loop] = "1"
            loveNumber.negativeCounts[loop] = loop + 200
        }
        
        let testGetLowestCount = (loveNumber, expected) => {
            let result = loveNumber.getLowestCount()
            let testText = "loveNumber.getLowestCount()"
            if (JSON.stringify(expected) !== JSON.stringify(result)) {console.log(testText + " failed. Expected " + JSON.stringify(expected) + ", got " + JSON.stringify(result) + ".")}
        }
        
        testGetLowestCount(loveNumber, { lowestPositive: 100, lowestNegative: 200 } )
    }
    function test_get_number_based_on_lowest_counts(){
        let loveNumber = LoveNumber.convertIntToLoveNumber(0)

        for (let loop = 0; loop < 32; loop++) {
            loveNumber.positiveFlags[loop] = "1"
            loveNumber.positiveCounts[loop] = loop + 100
            loveNumber.negativeFlags[loop] = "1"
            loveNumber.negativeCounts[loop] = loop + 200
        }
        
        let testGetLowestCount = (loveNumber, expected) => {
            let lowestCount = loveNumber.getLowestCount()
            let result = loveNumber.getNumberBasedOnLowestCounts(lowestCount)
            let testText = "loveNumber.getNumberBasedOnLowestCounts()"
            console.log(JSON.stringify(result))
            if (JSON.stringify(expected) !== JSON.stringify(result)) {console.log(testText + " failed. Expected " + JSON.stringify(expected) + ", got " + JSON.stringify(result) + ".")}
        }
        
        testGetLowestCount(loveNumber, "x")
        /*
        console.log(loveNumber0.toDebugString(true))
        console.log(loveNumber1.toDebugString(true))
        console.log(loveNumber2.toDebugString(true))
        console.log(loveNumber3.toDebugString(true))
        console.log(loveNumberNegative1.toDebugString(true))
        console.log(loveNumberNegative2.toDebugString(true))
        console.log(loveNumberNegative3.toDebugString(true))
        */
    }
    function test_visual(){
        let number1 = 1
        let number2 = 2
        let number3 = 3
        let number4 = -1
        let number5 = -2
        let number6 = -3
        let includeSubscripts = true
        let loveNumber = LoveNumber.convertIntToLoveNumber(number1)
        let loveNumberElement = document.getElementById("LoveNumber1")
        loveNumberElement.innerText = "A) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)
        loveNumber = LoveNumber.convertIntToLoveNumber(number2)
        loveNumberElement = document.getElementById("LoveNumber2")
        loveNumberElement.innerText = "B) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)
        loveNumber = LoveNumber.convertIntToLoveNumber(number3)
        loveNumberElement = document.getElementById("LoveNumber3")
        loveNumberElement.innerText = "C) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)
        loveNumber = LoveNumber.convertIntToLoveNumber(number4)
        loveNumberElement = document.getElementById("LoveNumber4")
        loveNumberElement.innerText = "D) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)
        loveNumber = LoveNumber.convertIntToLoveNumber(number5)
        loveNumberElement = document.getElementById("LoveNumber5")
        loveNumberElement.innerText = "E) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)
        loveNumber = LoveNumber.convertIntToLoveNumber(number6)
        loveNumberElement = document.getElementById("LoveNumber6")
        loveNumberElement.innerText = "F) "
        loveNumber.toHTML(loveNumberElement, includeSubscripts)

        loveNumber = LoveNumber.add(LoveNumber.convertIntToLoveNumber(number1), LoveNumber.convertIntToLoveNumber(number2))
        loveNumberElement = document.getElementById("LoveNumber7")
        loveNumberElement.innerText = "A + B) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.add(LoveNumber.convertIntToLoveNumber(number3), LoveNumber.convertIntToLoveNumber(number4))
        loveNumberElement = document.getElementById("LoveNumber8")
        loveNumberElement.innerText = "C + D) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.add(LoveNumber.convertIntToLoveNumber(number5), LoveNumber.convertIntToLoveNumber(number6))
        loveNumberElement = document.getElementById("LoveNumber9")
        loveNumberElement.innerText = "E + F) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.add(LoveNumber.convertIntToLoveNumber(1), LoveNumber.convertIntToLoveNumber(-1))
        loveNumberElement = document.getElementById("LoveNumber10")
        loveNumberElement.innerText = "1 + -1) "
        loveNumber.toHTML(loveNumberElement, true)

        loveNumber = LoveNumber.subtract(LoveNumber.convertIntToLoveNumber(number1), LoveNumber.convertIntToLoveNumber(number2))
        loveNumberElement = document.getElementById("LoveNumber11")
        loveNumberElement.innerText = "A - B) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.subtract(LoveNumber.convertIntToLoveNumber(number3), LoveNumber.convertIntToLoveNumber(number4))
        loveNumberElement = document.getElementById("LoveNumber12")
        loveNumberElement.innerText = "C - D) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.subtract(LoveNumber.convertIntToLoveNumber(number5), LoveNumber.convertIntToLoveNumber(number6))
        loveNumberElement = document.getElementById("LoveNumber13")
        loveNumberElement.innerText = "E - F) "
        loveNumber.toHTML(loveNumberElement, true)
        loveNumber = LoveNumber.subtract(LoveNumber.convertIntToLoveNumber(1), LoveNumber.convertIntToLoveNumber(-1))
        loveNumberElement = document.getElementById("LoveNumber14")
        loveNumberElement.innerText = "1 - -1) "
        loveNumber.toHTML(loveNumberElement, true)
    }
</script>
</head>
<body onLoad="test_love_number()">
    <div>Convert</div>
    <div id="LoveNumber1" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber2" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber3" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber4" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber5" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber6" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div>Add</div>
    <div id="LoveNumber7" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber8" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber9" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber10" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div>Subtract</div>
    <div id="LoveNumber11" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber12" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber13" style="display: flex; flex-direction: row; gap: 5px;"></div>
    <div id="LoveNumber14" style="display: flex; flex-direction: row; gap: 5px;"></div>
</body>
</html>